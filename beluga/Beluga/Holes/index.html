<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Holes (beluga.Beluga.Holes)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">beluga</a> &#x00BB; <a href="../index.html">Beluga</a> &#x00BB; Holes</nav><header class="odoc-preamble"><h1>Module <code><span>Beluga.Holes</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-lf_hole_info"><a href="#type-lf_hole_info" class="anchor"></a><code><span><span class="keyword">type</span> lf_hole_info</span><span> = </span><span>{</span></code><ol><li id="type-lf_hole_info.cPsi" class="def record field anchored"><a href="#type-lf_hole_info.cPsi" class="anchor"></a><code><span>cPsi : <a href="../../Synint/LF/index.html#type-dctx">Beluga_syntax.Synint.LF.dctx</a>;</span></code></li><li id="type-lf_hole_info.lfGoal" class="def record field anchored"><a href="#type-lf_hole_info.lfGoal" class="anchor"></a><code><span>lfGoal : <a href="../../Synint/LF/index.html#type-tclo">Beluga_syntax.Synint.LF.tclo</a>;</span></code></li><li id="type-lf_hole_info.lfSolution" class="def record field anchored"><a href="#type-lf_hole_info.lfSolution" class="anchor"></a><code><span><span class="keyword">mutable</span> lfSolution : <span><a href="../../Synint/LF/index.html#type-nclo">Beluga_syntax.Synint.LF.nclo</a> option</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-comp_hole_info"><a href="#type-comp_hole_info" class="anchor"></a><code><span><span class="keyword">type</span> comp_hole_info</span><span> = </span><span>{</span></code><ol><li id="type-comp_hole_info.cG" class="def record field anchored"><a href="#type-comp_hole_info.cG" class="anchor"></a><code><span>cG : <a href="../../Synint/Comp/index.html#type-gctx">Beluga_syntax.Synint.Comp.gctx</a>;</span></code></li><li id="type-comp_hole_info.compGoal" class="def record field anchored"><a href="#type-comp_hole_info.compGoal" class="anchor"></a><code><span>compGoal : <a href="../../Synint/Comp/index.html#type-typ">Beluga_syntax.Synint.Comp.typ</a> * <a href="../../Synint/LF/index.html#type-msub">Beluga_syntax.Synint.LF.msub</a>;</span></code></li><li id="type-comp_hole_info.compSolution" class="def record field anchored"><a href="#type-comp_hole_info.compSolution" class="anchor"></a><code><span><span class="keyword">mutable</span> compSolution : <span><a href="../../Synint/Comp/index.html#type-exp">Beluga_syntax.Synint.Comp.exp</a> option</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-hole_info"><a href="#type-hole_info" class="anchor"></a><code><span><span class="keyword">type</span> <span>_ hole_info</span></span><span> = </span></code><ol><li id="type-hole_info.LFInfo" class="def variant constructor anchored"><a href="#type-hole_info.LFInfo" class="anchor"></a><code><span>| </span><span><span class="constructor">LFInfo</span> : <span><a href="#type-lf_hole_info">lf_hole_info</a> <a href="#type-hole_info">hole_info</a></span></span></code></li><li id="type-hole_info.CompInfo" class="def variant constructor anchored"><a href="#type-hole_info.CompInfo" class="anchor"></a><code><span>| </span><span><span class="constructor">CompInfo</span> : <span><a href="#type-comp_hole_info">comp_hole_info</a> <a href="#type-hole_info">hole_info</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-hole"><a href="#type-hole" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a hole</span></span><span> = </span><span>{</span></code><ol><li id="type-hole.location" class="def record field anchored"><a href="#type-hole.location" class="anchor"></a><code><span>location : <a href="../../Syncom/Location/index.html#type-t">Beluga_syntax.Location.t</a>;</span></code></li><li id="type-hole.name" class="def record field anchored"><a href="#type-hole.name" class="anchor"></a><code><span>name : <a href="../../Syncom/HoleId/index.html#type-name">Beluga_syntax.HoleId.name</a>;</span></code></li><li id="type-hole.cD" class="def record field anchored"><a href="#type-hole.cD" class="anchor"></a><code><span>cD : <a href="../../Synint/LF/index.html#type-mctx">Beluga_syntax.Synint.LF.mctx</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>&quot;Context Delta&quot;, for metavariables.</p><span class="comment-delim">*)</span></div></li><li id="type-hole.info" class="def record field anchored"><a href="#type-hole.info" class="anchor"></a><code><span>info : <span class="type-var">'a</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>information specific to the hole type.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>A hole with a known kind of information.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-some_hole"><a href="#type-some_hole" class="anchor"></a><code><span><span class="keyword">type</span> some_hole</span><span> = </span></code><ol><li id="type-some_hole.Exists" class="def variant constructor anchored"><a href="#type-some_hole.Exists" class="anchor"></a><code><span>| </span><span><span class="constructor">Exists</span> : <span><span class="type-var">'a</span> <a href="#type-hole_info">hole_info</a></span> * <span><span class="type-var">'a</span> <a href="#type-hole">hole</a></span> <span class="arrow">&#45;&gt;</span> <a href="#type-some_hole">some_hole</a></span></code></li></ol></div><div class="spec-doc"><p>Existential wrapper for 'a hole with a singleton type.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-lookup_strategy"><a href="#type-lookup_strategy" class="anchor"></a><code><span><span class="keyword">type</span> lookup_strategy</span></code></div><div class="spec-doc"><p>A strategy for retrieving a hole.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_lookup_strategy"><a href="#val-string_of_lookup_strategy" class="anchor"></a><code><span><span class="keyword">val</span> string_of_lookup_strategy : <span><a href="#type-lookup_strategy">lookup_strategy</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Gets a string representation of the given strategy.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_lookup_strategy"><a href="#val-parse_lookup_strategy" class="anchor"></a><code><span><span class="keyword">val</span> parse_lookup_strategy : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-lookup_strategy">lookup_strategy</a> option</span></span></code></div><div class="spec-doc"><p>Parses a lookup strategy.</p><p>An integer gives the `by_id` strategy, whereas a non-integer gives the `by_name` strategy Returns None if the parsing fails.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unsafe_parse_lookup_strategy"><a href="#val-unsafe_parse_lookup_strategy" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_parse_lookup_strategy : 
  <span><a href="../../Syncom/Location/index.html#type-t">Beluga_syntax.Location.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-lookup_strategy">lookup_strategy</a></span></code></div><div class="spec-doc"><p>Parses a lookup strategy, throwing an exception on failure. The given location is used in the thrown exception.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-by_id"><a href="#val-by_id" class="anchor"></a><code><span><span class="keyword">val</span> by_id : <span><a href="../../Syncom/HoleId/index.html#type-t">Beluga_syntax.HoleId.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-lookup_strategy">lookup_strategy</a></span></code></div><div class="spec-doc"><p>Looks up a hole by its number. Use strategies with `get`.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-by_name"><a href="#val-by_name" class="anchor"></a><code><span><span class="keyword">val</span> by_name : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-lookup_strategy">lookup_strategy</a></span></code></div><div class="spec-doc"><p>Looks up a hole by its name. Use strategies with `get`.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-snapshot"><a href="#type-snapshot" class="anchor"></a><code><span><span class="keyword">type</span> snapshot</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_snapshot"><a href="#val-get_snapshot" class="anchor"></a><code><span><span class="keyword">val</span> get_snapshot : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-snapshot">snapshot</a></span></code></div><div class="spec-doc"><p>Gets a snapshot of the current hole ids.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-holes_since"><a href="#val-holes_since" class="anchor"></a><code><span><span class="keyword">val</span> holes_since : <span><a href="#type-snapshot">snapshot</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../Syncom/HoleId/index.html#type-t">Beluga_syntax.HoleId.t</a> * <a href="#type-some_hole">some_hole</a>)</span> list</span></span></code></div><div class="spec-doc"><p>Gets a list of holes added since the given snapshot. This can be used to whether an ad hoc expression contained any holes.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-catch"><a href="#val-catch" class="anchor"></a><code><span><span class="keyword">val</span> catch : <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../Syncom/HoleId/index.html#type-t">Beluga_syntax.HoleId.t</a> * <a href="#type-some_hole">some_hole</a>)</span> list</span> * <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Runs a function, and catches any new holes added as a result of running it.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_lf_hole"><a href="#val-to_lf_hole" class="anchor"></a><code><span><span class="keyword">val</span> to_lf_hole : <span><a href="#type-some_hole">some_hole</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-lf_hole_info">lf_hole_info</a> <a href="#type-hole">hole</a></span> option</span></span></code></div><div class="spec-doc"><p>Decides whether this is an LF hole.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_comp_hole"><a href="#val-to_comp_hole" class="anchor"></a><code><span><span class="keyword">val</span> to_comp_hole : <span><a href="#type-some_hole">some_hole</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-comp_hole_info">comp_hole_info</a> <a href="#type-hole">hole</a></span> option</span></span></code></div><div class="spec-doc"><p>Decides whether this is a computational hole.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_solved"><a href="#val-is_solved" class="anchor"></a><code><span><span class="keyword">val</span> is_solved : <span><a href="#type-some_hole">some_hole</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Decides whether this hole is solved.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_unsolved"><a href="#val-is_unsolved" class="anchor"></a><code><span><span class="keyword">val</span> is_unsolved : <span><a href="#type-some_hole">some_hole</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Decides whether this hole is unsolved.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hole_is_named"><a href="#val-hole_is_named" class="anchor"></a><code><span><span class="keyword">val</span> hole_is_named : <span><a href="#type-some_hole">some_hole</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Decides whether a hole has a name (is not anonymous).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-none"><a href="#val-none" class="anchor"></a><code><span><span class="keyword">val</span> none : <span>unit <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Checks whether the internal array of holes is empty.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><a href="#type-lookup_strategy">lookup_strategy</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../Syncom/HoleId/index.html#type-t">Beluga_syntax.HoleId.t</a> * <a href="#type-some_hole">some_hole</a>)</span> option</span></span></code></div><div class="spec-doc"><p>Retrieves a single hole using the given strategy.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unsafe_get"><a href="#val-unsafe_get" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get : <span><a href="#type-lookup_strategy">lookup_strategy</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../Syncom/HoleId/index.html#type-t">Beluga_syntax.HoleId.t</a> * <a href="#type-some_hole">some_hole</a></span></code></div><div class="spec-doc"><p>Retrieves a single hole using the given strategy, * raising NoSuchHole if the hole does not exist.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lookup"><a href="#val-lookup" class="anchor"></a><code><span><span class="keyword">val</span> lookup : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../Syncom/HoleId/index.html#type-t">Beluga_syntax.HoleId.t</a> * <a href="#type-some_hole">some_hole</a>)</span> option</span></span></code></div><div class="spec-doc"><p>Looks up a hole, retrieving the hole itself and its number.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-loc_within"><a href="#val-loc_within" class="anchor"></a><code><span><span class="keyword">val</span> loc_within : <span><a href="../../Syncom/Location/index.html#type-t">Beluga_syntax.Location.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Syncom/Location/index.html#type-t">Beluga_syntax.Location.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Decides whether a location is contained within a location.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-count"><a href="#val-count" class="anchor"></a><code><span><span class="keyword">val</span> count : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Counts the number of holes.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-destroy_holes_within"><a href="#val-destroy_holes_within" class="anchor"></a><code><span><span class="keyword">val</span> destroy_holes_within : <span><a href="../../Syncom/Location/index.html#type-t">Beluga_syntax.Location.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Removes all holes contained in the given location.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-allocate"><a href="#val-allocate" class="anchor"></a><code><span><span class="keyword">val</span> allocate : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../../Syncom/HoleId/index.html#type-t">Beluga_syntax.HoleId.t</a></span></code></div><div class="spec-doc"><p>Allocates a new hole ID.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assign"><a href="#val-assign" class="anchor"></a><code><span><span class="keyword">val</span> assign : <span><a href="../../Syncom/HoleId/index.html#type-t">Beluga_syntax.HoleId.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-some_hole">some_hole</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Assigns the hole to the given ID.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span><span class="keyword">val</span> clear : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Clears the hole arrays.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-list"><a href="#val-list" class="anchor"></a><code><span><span class="keyword">val</span> list : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../Syncom/HoleId/index.html#type-t">Beluga_syntax.HoleId.t</a> * <a href="#type-some_hole">some_hole</a>)</span> list</span></span></code></div><div class="spec-doc"><p>Gets the current list of holes. The list is in sorted order of the hole locations in the source file.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_harpoon_subgoal"><a href="#val-add_harpoon_subgoal" class="anchor"></a><code><span><span class="keyword">val</span> add_harpoon_subgoal : <span><a href="../../Synint/Comp/index.html#type-open_subgoal">Beluga_syntax.Synint.Comp.open_subgoal</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Adds a Harpoon subgoal to the internal list.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_harpoon_subgoals"><a href="#val-get_harpoon_subgoals" class="anchor"></a><code><span><span class="keyword">val</span> get_harpoon_subgoals : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Synint/Comp/index.html#type-open_subgoal">Beluga_syntax.Synint.Comp.open_subgoal</a> list</span></span></code></div><div class="spec-doc"><p>Gets the list of Harpoon subgoals.</p></div></div></div></body></html>
