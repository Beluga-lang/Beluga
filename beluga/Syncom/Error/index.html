<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Error (beluga.Syncom.Error)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v2.3.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">beluga</a> &#x00BB; <a href="../index.html">Syncom</a> &#x00BB; Error</nav><header class="odoc-preamble"><h1>Module <code><span>Syncom.Error</span></code></h1><p>Utilities for raising and catching exceptions.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-enable_colored_output"><a href="#val-enable_colored_output" class="anchor"></a><code><span><span class="keyword">val</span> enable_colored_output : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>enable_colored_output ()</code> enables coloring functions in pretty-printing of exceptions.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-disable_colored_output"><a href="#val-disable_colored_output" class="anchor"></a><code><span><span class="keyword">val</span> disable_colored_output : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>disable_colored_output ()</code> disables coloring functions in pretty-printing of exceptions.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise"><a href="#val-raise" class="anchor"></a><code><span><span class="keyword">val</span> raise : <span>exn <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>raise exn</code> raises <code>exn</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-re_raise"><a href="#val-re_raise" class="anchor"></a><code><span><span class="keyword">val</span> re_raise : <span>exn <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>re_raise exn</code> raises <code>exn</code> with the backtrace of the latest caught exception. This should only be used if <code>exn</code> was caught in a <code>try-with</code> expression.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise_notrace"><a href="#val-raise_notrace" class="anchor"></a><code><span><span class="keyword">val</span> raise_notrace : <span>exn <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>raise_notrace exn</code> raises <code>exn</code> without producing a stack trace. This is more efficient for exceptions used for control flow.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Violation"><a href="#exception-Violation" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Violation</span> <span class="keyword">of</span> string</span></code></div><div class="spec-doc"><p><code>Violation message</code> is the exception signalling a programmer error, like an unmet pre-condition. FIXME: This exception variant should not be exported, but it is incorrectly being used for backtracking with exceptions in the core library.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise_violation"><a href="#val-raise_violation" class="anchor"></a><code><span><span class="keyword">val</span> raise_violation : <span><span class="optlabel">?location</span>:<a href="../Location/index.html#type-t">Location.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>raise_violation ?location message</code> raises a violation exception with the given <code>message</code> and <code>location</code>. A violation encountered at runtime indicates that there is a bug in the implementation, such as a pre-condition, post-condition or invariant not being upheld.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-located_exception"><a href="#val-located_exception" class="anchor"></a><code><span><span class="keyword">val</span> located_exception : <span><span><a href="../Location/index.html#type-t">Location.t</a> <a href="../../Support/List1/index.html#type-t">Support.List1.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>located_exception locations cause</code> is a decorated exception having <code>cause</code> and <code>locations</code> for source file error-reporting. This exception is not exported from this module, so it may never be caught elsewhere.</p><p>This sort of exception is used to signal to the user which part of their source code is problematic.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-located_exception1"><a href="#val-located_exception1" class="anchor"></a><code><span><span class="keyword">val</span> located_exception1 : <span><a href="../Location/index.html#type-t">Location.t</a> <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>located_exception1 location cause</code> is a decorated exception having <code>cause</code> and locations <code>[location]</code> for source file error-reporting.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-located_exception2"><a href="#val-located_exception2" class="anchor"></a><code><span><span class="keyword">val</span> located_exception2 : <span><a href="../Location/index.html#type-t">Location.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Location/index.html#type-t">Location.t</a> <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>located_exception2 location1 location2 cause</code> is a decorated exception having <code>cause</code> and locations <code>[location1; location2]</code> for source file error-reporting.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise_at"><a href="#val-raise_at" class="anchor"></a><code><span><span class="keyword">val</span> raise_at : <span><span><a href="../Location/index.html#type-t">Location.t</a> <a href="../../Support/List1/index.html#type-t">Support.List1.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>raise_at locations cause</code> raises <code>located_exception locations cause</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise_at1"><a href="#val-raise_at1" class="anchor"></a><code><span><span class="keyword">val</span> raise_at1 : <span><a href="../Location/index.html#type-t">Location.t</a> <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>raise_at1 location cause</code> raises <code>located_exception1 location cause</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise_at2"><a href="#val-raise_at2" class="anchor"></a><code><span><span class="keyword">val</span> raise_at2 : <span><a href="../Location/index.html#type-t">Location.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Location/index.html#type-t">Location.t</a> <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>raise_at2 location1 location2 cause</code> raises <code>located_exception2 location1 location2 cause</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise_at1_opt"><a href="#val-raise_at1_opt" class="anchor"></a><code><span><span class="keyword">val</span> raise_at1_opt : <span><span><a href="../Location/index.html#type-t">Location.t</a> <a href="../../Support/Option/index.html#type-t">Support.Option.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>raise_at1_opt location_opt cause</code> raises <code>located_exception1 location cause</code> if <code>location_opt = Option.Some location</code>, or raises <code>cause</code> if <code>location_opt = Option.None</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-located_exception_printer"><a href="#val-located_exception_printer" class="anchor"></a><code><span><span class="keyword">val</span> located_exception_printer : 
  <span><span>(<span><a href="../../Support/Format/index.html#type-formatter">Support.Format.formatter</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Location/index.html#type-t">Location.t</a> <a href="../../Support/List1/index.html#type-t">Support.List1.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Support/Format/index.html#type-formatter">Support.Format.formatter</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>located_exception_printer pp locations</code> is a printer for the exception printed by <code>pp</code> with location snippets for <code>locations</code> in order.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-composite_exception"><a href="#val-composite_exception" class="anchor"></a><code><span><span class="keyword">val</span> composite_exception : <span><span>exn <a href="../../Support/List2/index.html#type-t">Support.List2.t</a></span> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>composite_exception causes</code> is the composite exception having many related <code>causes</code>. This exception is not exported from this module, so it may never be caught elsewhere.</p><p>This sort of exception is used to report multiple exception causes for the same problem. For instance, during disambiguation, we may have encountered a bound variable that is of the wrong type. This exception can be represented as the composite for an exception for the variable being bound and of an unexpected sort, and another exception for reporting the sort of bound variable it is.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-composite_exception2"><a href="#val-composite_exception2" class="anchor"></a><code><span><span class="keyword">val</span> composite_exception2 : <span>exn <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>composite_exception2 cause1 cause2</code> is the composite exception having causes <code>[cause1; cause2]</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise_composite_exception"><a href="#val-raise_composite_exception" class="anchor"></a><code><span><span class="keyword">val</span> raise_composite_exception : <span><span>exn <a href="../../Support/List2/index.html#type-t">Support.List2.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise_composite_exception2"><a href="#val-raise_composite_exception2" class="anchor"></a><code><span><span class="keyword">val</span> raise_composite_exception2 : <span>exn <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-aggregate_exception"><a href="#val-aggregate_exception" class="anchor"></a><code><span><span class="keyword">val</span> aggregate_exception : <span><span>exn <a href="../../Support/List2/index.html#type-t">Support.List2.t</a></span> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>aggregate_exception exceptions</code> is the composite exception having many unrelated <code>exceptions</code>. This exception is not exported from this module, so it may never be caught elsewhere.</p><p>This sort of exception is used to report multiple different exceptions. For instance, during the indexing of a signature, unrelated exceptions may arise in different compilation units. These unrelated exceptions can be raised as an aggregate exception.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-aggregate_exception2"><a href="#val-aggregate_exception2" class="anchor"></a><code><span><span class="keyword">val</span> aggregate_exception2 : <span>exn <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>aggregate_exception2 exception1 exception2</code> is the aggregate exception having causes <code>[exception1; exception2]</code>. This exception is not exported from this module, so it may never be caught elsewhere.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise_aggregate_exception"><a href="#val-raise_aggregate_exception" class="anchor"></a><code><span><span class="keyword">val</span> raise_aggregate_exception : <span><span>exn <a href="../../Support/List2/index.html#type-t">Support.List2.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise_aggregate_exception2"><a href="#val-raise_aggregate_exception2" class="anchor"></a><code><span><span class="keyword">val</span> raise_aggregate_exception2 : <span>exn <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise_not_implemented"><a href="#val-raise_not_implemented" class="anchor"></a><code><span><span class="keyword">val</span> raise_not_implemented : <span><span class="optlabel">?location</span>:<a href="../Location/index.html#type-t">Location.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>raise_not_implemented ?location message</code> raises an exception signalling that we've reached a segment of code that is not yet implemented. The optional <code>location</code> is used to additionally report to the user the part of their work that triggered this exception.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise_unsupported_exception_printing"><a href="#val-raise_unsupported_exception_printing" class="anchor"></a><code><span><span class="keyword">val</span> raise_unsupported_exception_printing : <span>exn <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>raise_unsupported_exception_printing exn</code> raises an exception signalling that a pretty-printer function for exceptions encountered an unsupported exception variant <code>exn</code>. This is used together with <a href="#val-register_exception_printer"><code>register_exception_printer</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-register_exception_printer"><a href="#val-register_exception_printer" class="anchor"></a><code><span><span class="keyword">val</span> register_exception_printer : 
  <span><span>(<span>exn <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Support/Format/index.html#type-formatter">Support.Format.formatter</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>register_exception_printer pp_exn</code> registers the pretty-printing function <code>pp_exn</code> for printing some exceptions. If <code>pp_exn</code> does not support an exception variant <code>exn</code>, then it should call <code>raise_unsupported_exception_printing exn</code>.</p><p>Example usage:</p><pre class="language-ocaml"><code>let () =
  Error.register_exception_printer (function
    | My_exception (message : string) -&gt;
        Format.dprintf &quot;@[&lt;v 0&gt;My exception was raised:@ %s@]&quot; message
    | exn -&gt; Error.raise_unsupported_exception_printing exn)</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_printer"><a href="#val-find_printer" class="anchor"></a><code><span><span class="keyword">val</span> find_printer : <span>exn <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Support/Format/index.html#type-formatter">Support.Format.formatter</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>find_printer exn</code> is the exception printer registered with <a href="#val-register_exception_printer"><code>register_exception_printer</code></a> that handles <code>exn</code>. If there is no such printer, then <code>raise_unsupported_exception_printing exn</code> is evaluated.</p><p><code>find_printer</code> is used when registering exception printers for exceptions that contain sub-exceptions, like located, aggregate or composite exceptions.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mismatch_reporter"><a href="#val-mismatch_reporter" class="anchor"></a><code><span><span class="keyword">val</span> mismatch_reporter : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../../Support/Format/index.html#type-formatter">Support.Format.formatter</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../../Support/Format/index.html#type-formatter">Support.Format.formatter</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Support/Format/index.html#type-formatter">Support.Format.formatter</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Helper function to construct an error message reporting a mismatch between something that was expected and what was actually encountered. e.g. a type mismatch or a context clash.</p><p>example: mismatch_reporter &quot;Type mismatch.&quot; &quot;Expected type&quot; pp_ty1 ty1 &quot;Inferred type&quot; pp_ty2 ty2</p></div></div></div></body></html>
