<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Parser_state (beluga.Beluga_parser.Make_parsing.Parser_state)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">beluga</a> &#x00BB; <a href="../../index.html">Beluga_parser</a> &#x00BB; <a href="../index.html">Make_parsing</a> &#x00BB; Parser_state</nav><header class="odoc-preamble"><h1>Parameter <code><span>Make_parsing.Parser_state</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#lexing">Lexing</a></li><li><a href="#locations">Locations</a></li><li><a href="#backtracking">Backtracking</a></li></ul></nav><div class="odoc-content"><div class="odoc-include"><details><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../../Support/State/module-type-STATE/index.html">Support.State.STATE</a></span></code></summary><div class="odoc-spec"><div class="spec type anchored" id="type-state"><a href="#type-state" class="anchor"></a><code><span><span class="keyword">type</span> state</span></code></div><div class="spec-doc"><p>The type of states inside the monad.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span><span> = <span><a href="#type-state">state</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-state">state</a> * <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><a href="#type-state">state</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Return the state from the internals of the monad.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-put"><a href="#val-put" class="anchor"></a><code><span><span class="keyword">val</span> put : <span><a href="#type-state">state</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Replace the state inside the monad.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-modify"><a href="#val-modify" class="anchor"></a><code><span><span class="keyword">val</span> modify : <span><span>(<span><a href="#type-state">state</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-state">state</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Modify the state inside the monad.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-run"><a href="#val-run" class="anchor"></a><code><span><span class="keyword">val</span> run : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-state">state</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-state">state</a> * <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>run a init</code> runs <code>a</code> with initial state <code>init</code>, returning <code>(final, v)</code> where <code>final</code> is the final state and <code>v</code> is the output.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-eval"><a href="#val-eval" class="anchor"></a><code><span><span class="keyword">val</span> eval : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-state">state</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>eval a init</code> is <code>run a init = (final, v)</code>, but outputs only <code>v</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-exec"><a href="#val-exec" class="anchor"></a><code><span><span class="keyword">val</span> exec : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-state">state</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-state">state</a></span></code></div><div class="spec-doc"><p><code>exec a init</code> is <code>run a init = (final, v)</code>, but outputs only <code>final</code>.</p></div></div><h2 id="traversals"><a href="#traversals" class="anchor"></a>Traversals</h2><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_tuple2"><a href="#val-traverse_tuple2" class="anchor"></a><code><span><span class="keyword">val</span> traverse_tuple2 : 
  <span><span>(<span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b1</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b2</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'a1</span> * <span class="type-var">'a2</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'b1</span> * <span class="type-var">'b2</span>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_tuple3"><a href="#val-traverse_tuple3" class="anchor"></a><code><span><span class="keyword">val</span> traverse_tuple3 : 
  <span><span>(<span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b1</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b2</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b3</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'a1</span> * <span class="type-var">'a2</span> * <span class="type-var">'a3</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'b1</span> * <span class="type-var">'b2</span> * <span class="type-var">'b3</span>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_list"><a href="#val-traverse_list" class="anchor"></a><code><span><span class="keyword">val</span> traverse_list : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../../../Support/List/index.html#type-t">Support.List.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../../../Support/List/index.html#type-t">Support.List.t</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_list1"><a href="#val-traverse_list1" class="anchor"></a><code><span><span class="keyword">val</span> traverse_list1 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../../../Support/List1/index.html#type-t">Support.List1.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../../../Support/List1/index.html#type-t">Support.List1.t</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_list2"><a href="#val-traverse_list2" class="anchor"></a><code><span><span class="keyword">val</span> traverse_list2 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../../../Support/List2/index.html#type-t">Support.List2.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../../../Support/List2/index.html#type-t">Support.List2.t</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_list_void"><a href="#val-traverse_list_void" class="anchor"></a><code><span><span class="keyword">val</span> traverse_list_void : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../../../Support/List/index.html#type-t">Support.List.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Stdlib</span>.Unit.t <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_list1_void"><a href="#val-traverse_list1_void" class="anchor"></a><code><span><span class="keyword">val</span> traverse_list1_void : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../../../Support/List1/index.html#type-t">Support.List1.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Stdlib</span>.Unit.t <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_list2_void"><a href="#val-traverse_list2_void" class="anchor"></a><code><span><span class="keyword">val</span> traverse_list2_void : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../../../Support/List2/index.html#type-t">Support.List2.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Stdlib</span>.Unit.t <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_reverse_list"><a href="#val-traverse_reverse_list" class="anchor"></a><code><span><span class="keyword">val</span> traverse_reverse_list : 
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../../Support/List/index.html#type-t">Support.List.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'b</span> <a href="../../../Support/List/index.html#type-t">Support.List.t</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_reverse_list1"><a href="#val-traverse_reverse_list1" class="anchor"></a><code><span><span class="keyword">val</span> traverse_reverse_list1 : 
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../../Support/List1/index.html#type-t">Support.List1.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'b</span> <a href="../../../Support/List1/index.html#type-t">Support.List1.t</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_reverse_list2"><a href="#val-traverse_reverse_list2" class="anchor"></a><code><span><span class="keyword">val</span> traverse_reverse_list2 : 
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../../Support/List2/index.html#type-t">Support.List2.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'b</span> <a href="../../../Support/List2/index.html#type-t">Support.List2.t</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_reverse_list_void"><a href="#val-traverse_reverse_list_void" class="anchor"></a><code><span><span class="keyword">val</span> traverse_reverse_list_void : 
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../../Support/List/index.html#type-t">Support.List.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Stdlib</span>.Unit.t <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_reverse_list1_void"><a href="#val-traverse_reverse_list1_void" class="anchor"></a><code><span><span class="keyword">val</span> traverse_reverse_list1_void : 
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../../Support/List1/index.html#type-t">Support.List1.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Stdlib</span>.Unit.t <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_reverse_list2_void"><a href="#val-traverse_reverse_list2_void" class="anchor"></a><code><span><span class="keyword">val</span> traverse_reverse_list2_void : 
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../../Support/List2/index.html#type-t">Support.List2.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Stdlib</span>.Unit.t <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_option"><a href="#val-traverse_option" class="anchor"></a><code><span><span class="keyword">val</span> traverse_option : 
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../../Support/Option/index.html#type-t">Support.Option.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'b</span> <a href="../../../Support/Option/index.html#type-t">Support.Option.t</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-traverse_option_void"><a href="#val-traverse_option_void" class="anchor"></a><code><span><span class="keyword">val</span> traverse_option_void : 
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../../Support/Option/index.html#type-t">Support.Option.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Stdlib</span>.Unit.t <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-seq_list"><a href="#val-seq_list" class="anchor"></a><code><span><span class="keyword">val</span> seq_list : <span><span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <a href="../../../Support/List/index.html#type-t">Support.List.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../../../Support/List/index.html#type-t">Support.List.t</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-seq_list1"><a href="#val-seq_list1" class="anchor"></a><code><span><span class="keyword">val</span> seq_list1 : <span><span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <a href="../../../Support/List1/index.html#type-t">Support.List1.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../../../Support/List1/index.html#type-t">Support.List1.t</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-seq_list_void"><a href="#val-seq_list_void" class="anchor"></a><code><span><span class="keyword">val</span> seq_list_void : <span><span><span>unit <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>seq_list_void [x1; x2; ...; xn]</code> performs <code>x1</code>, <code>x2</code>, ..., <code>xn</code> in order.</p></div></div><h2 id="instances"><a href="#instances" class="anchor"></a>Instances</h2><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../../Support/Monad/module-type-MONAD/index.html">Support.Monad.MONAD</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../../Support/Monad/module-type-MONAD/index.html#type-t">t</a></span> := <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-return"><a href="#val-return" class="anchor"></a><code><span><span class="keyword">val</span> return : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>return a</code> injects <code>a</code> into the monadic type.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bind"><a href="#val-bind" class="anchor"></a><code><span><span class="keyword">val</span> bind : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>bind f a</code> is the sequential composition of two actions, passing any value produced by <code>a</code> as argument to <code>f</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&gt;&gt;=)"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;=) : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Operator alias of <a href="#val-bind"><code>bind</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compose"><a href="#val-compose" class="anchor"></a><code><span><span class="keyword">val</span> compose : <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>compose g f</code> is the Kleisli composition of <code>f</code> and <code>g</code>, passing the input to <code>f</code>, then binding the output to <code>g</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&gt;=&gt;)"><a href="#val-(&gt;=&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;=&gt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Operator alias of <a href="#val-compose"><code>compose</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-let*"><a href="#val-let*" class="anchor"></a><code><span><span class="keyword">val</span> let* : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>( let* ) ma f</code> is <code>bind f ma</code>. This is a binding operator, and it is used as <code>let* a = ma in f a</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-and*"><a href="#val-and*" class="anchor"></a><code><span><span class="keyword">val</span> and* : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>( and* ) ma mb</code> is <code>let* a = ma in let* b = mb in return (a, b)</code>. This is a binding operator, and it is used as <code>let* a = ma and* b = mb in ...</code>.</p></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../../Support/Functor/module-type-FUNCTOR/index.html">Support.Functor.FUNCTOR</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../../Support/Functor/module-type-FUNCTOR/index.html#type-t">t</a></span> := <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></span></code></summary><h2 id="combinators"><a href="#combinators" class="anchor"></a>Combinators</h2><div class="odoc-spec"><div class="spec value anchored" id="val-map"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>map f</code> is the function that maps values of <a href="#type-t"><code>t</code></a> by <code>f</code>. The order of arguments is for use in function pipelines as <code>fb = fa |&gt; map (fun a -&gt; (* ... *))</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-($&gt;)"><a href="#val-($&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> ($&gt;) : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>( $&gt; )</code> is an infix synonym for <a href="#val-map"><code>map</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-let+"><a href="#val-let+" class="anchor"></a><code><span><span class="keyword">val</span> let+ : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>( let+ ) ma f</code> is <code>map f a</code>. This is a binding operator, and is used as <code>let+ a = ma in f a</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-and+"><a href="#val-and+" class="anchor"></a><code><span><span class="keyword">val</span> and+ : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>( and+ ) ma mb</code> is <code>let+ a = ma in let+ b = mb in return (a, b)</code>. This is a binding operator, and it is used as <code>let+ a = ma and+ b = mb in ...</code>.</p></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../../Support/Apply/module-type-APPLY/index.html">Support.Apply.APPLY</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../../Support/Apply/module-type-APPLY/index.html#type-t">t</a></span> := <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-ap"><a href="#val-ap" class="anchor"></a><code><span><span class="keyword">val</span> ap : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>ap fa fab</code> applies argument <code>fa</code> to <code>fab</code> under the abstract datatype <a href="#type-t"><code>t</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;&amp;&gt;)"><a href="#val-(&lt;&amp;&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;&amp;&gt;) : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>( &lt;&amp;&gt; )</code> is an infix synonym of <a href="#val-ap"><code>ap</code></a>.</p></div></div><h2 id="combinators_2"><a href="#combinators_2" class="anchor"></a>Combinators</h2><div class="odoc-spec"><div class="spec value anchored" id="val-ap_first"><a href="#val-ap_first" class="anchor"></a><code><span><span class="keyword">val</span> ap_first : <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>ap_first second first</code> combines actions <code>first</code> and <code>second</code> but keeps only <code>first</code>. That is, <code>ap_first second first = first</code>. The order of arguments is for use in function pipelines as <code>first = first |&gt; ap_first second</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;&amp;)"><a href="#val-(&lt;&amp;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;&amp;) : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>( &lt;&amp; )</code> is an infix synonym for <a href="#val-ap_first"><code>ap_first</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ap_second"><a href="#val-ap_second" class="anchor"></a><code><span><span class="keyword">val</span> ap_second : <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>ap_second second first</code> combines actions <code>first</code> and <code>second</code> but keeps only <code>second</code>. That is, <code>ap_second second first = second</code>. The order of arguments is for use in function pipelines as <code>second = first |&gt; ap_second second</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&amp;&gt;)"><a href="#val-(&amp;&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&amp;&gt;) : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>( &amp;&gt; )</code> is an infix synonym for <a href="#val-ap_second"><code>ap_second</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-seq2"><a href="#val-seq2" class="anchor"></a><code><span><span class="keyword">val</span> seq2 : <span><span><span class="type-var">'a1</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a2</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a1</span> * <span class="type-var">'a2</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>seq2 fa1 fa2</code> sequentially executes actions <code>fa1</code> and <code>fa2</code>, and keeps their outputs under the abstract datatype <a href="#type-t"><code>t</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-seq3"><a href="#val-seq3" class="anchor"></a><code><span><span class="keyword">val</span> seq3 : <span><span><span class="type-var">'a1</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a2</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a3</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a1</span> * <span class="type-var">'a2</span> * <span class="type-var">'a3</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>seq3 fa1 fa2 fa3</code> sequentially executes actions <code>fa1</code>, <code>fa2</code> and <code>fa3</code>, and keeps their outputs under the abstract datatype <a href="#type-t"><code>t</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-seq4"><a href="#val-seq4" class="anchor"></a><code><span><span class="keyword">val</span> seq4 : <span><span><span class="type-var">'a1</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a2</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a3</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a4</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a1</span> * <span class="type-var">'a2</span> * <span class="type-var">'a3</span> * <span class="type-var">'a4</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>seq4 fa1 fa2 fa3 fa4</code> sequentially executes actions <code>fa1</code>, <code>fa2</code>, <code>fa3</code> and <code>fa4</code>, and keeps their outputs under the abstract datatype <a href="#type-t"><code>t</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-seq5"><a href="#val-seq5" class="anchor"></a><code><span><span class="keyword">val</span> seq5 : 
  <span><span><span class="type-var">'a1</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a2</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a3</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a4</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a5</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'a1</span> * <span class="type-var">'a2</span> * <span class="type-var">'a3</span> * <span class="type-var">'a4</span> * <span class="type-var">'a5</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>seq5 fa1 fa2 fa3 fa4 fa5</code> sequentially executes actions <code>fa1</code>, <code>fa2</code>, <code>fa3</code>, <code>fa4</code> and <code>fa5</code>, and keeps their outputs under the abstract datatype <a href="#type-t"><code>t</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lift2"><a href="#val-lift2" class="anchor"></a><code><span><span class="keyword">val</span> lift2 : <span><span>(<span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'r</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a1</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a2</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'r</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>lift2 f ma1 ma2</code> sequentially executes actions <code>ma1</code>, <code>ma2</code> and passes their outputs to <code>f</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lift3"><a href="#val-lift3" class="anchor"></a><code><span><span class="keyword">val</span> lift3 : <span><span>(<span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'r</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a1</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a2</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a3</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'r</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>lift3 f ma1 ma2 ma3</code> sequentially executes actions <code>ma1</code>, <code>ma2</code>, <code>ma3</code> and passes their outputs to <code>f</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lift4"><a href="#val-lift4" class="anchor"></a><code><span><span class="keyword">val</span> lift4 : 
  <span><span>(<span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'r</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a1</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a2</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a3</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a4</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'r</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>lift4 f ma1 ma2 ma3 ma4</code> sequentially executes actions <code>ma1</code>, <code>ma2</code>, <code>ma3</code>, <code>ma4</code> and passes their outputs to <code>f</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lift5"><a href="#val-lift5" class="anchor"></a><code><span><span class="keyword">val</span> lift5 : 
  <span><span>(<span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'r</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a1</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a2</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a3</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a4</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a5</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'r</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>lift5 f ma1 ma2 ma3 ma4 ma5</code> sequentially executes actions <code>ma1</code>, <code>ma2</code>, <code>ma3</code>, <code>ma4</code>, <code>ma5</code> and passes their outputs to <code>f</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-replicate"><a href="#val-replicate" class="anchor"></a><code><span><span class="keyword">val</span> replicate : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>replicate n a</code> sequentially runs <code>n</code> times <code>a</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Invalid_argument</code> <p>If <code>n &lt; 0</code>.</p></li></ul></div></div></details></div></details></div><h2 id="lexing"><a href="#lexing" class="anchor"></a>Lexing</h2><div class="odoc-spec"><div class="spec type anchored" id="type-token"><a href="#type-token" class="anchor"></a><code><span><span class="keyword">type</span> token</span><span> = <a href="../../Located_token/index.html#type-t">Located_token.t</a></span></code></div><div class="spec-doc"><p>The type of token in the finite stream being parsed.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-peek"><a href="#val-peek" class="anchor"></a><code><span><span class="keyword">val</span> peek : <span><span><a href="#type-token">token</a> option</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>peek state</code> is <code>(state', token_opt)</code> where <code>token_opt</code> is the next unconsumed token in <code>state</code>. If <code>token_opt = Option.None</code>, then the end of the input stream was reached. Otherwise, <code>token_opt = Option.Some token</code>. The token is not consumed, meaning that <code>state'</code> is not advanced to the next token in the stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-observe"><a href="#val-observe" class="anchor"></a><code><span><span class="keyword">val</span> observe : <span><span><a href="#type-token">token</a> option</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>observed state</code> is like <code>peek state</code>, but the observed token is consumed.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-accept"><a href="#val-accept" class="anchor"></a><code><span><span class="keyword">val</span> accept : <span>unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>accept state</code> is <code>(state', ())</code> where <code>state'</code> is derived from <code>state</code> by consuming the next token in the input stream. This effectively observes and discards the next token in <code>state</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-insert"><a href="#val-insert" class="anchor"></a><code><span><span class="keyword">val</span> insert : <span><a href="#type-token">token</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>insert token state</code> is <code>(state', ())</code> where <code>state'</code> is derived from <code>state</code> by inserting <code>token</code> at the beginning of the input stream. That is, <code>token</code> is the next token in <code>state'</code>.</p></div></div><h2 id="locations"><a href="#locations" class="anchor"></a>Locations</h2><div class="odoc-spec"><div class="spec type anchored" id="type-location"><a href="#type-location" class="anchor"></a><code><span><span class="keyword">type</span> location</span><span> = <a href="../../../Syncom/Location/index.html#type-t">Beluga_syntax.Location.t</a></span></code></div><div class="spec-doc"><p>The type of locations with which input tokens are annotated.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-next_location"><a href="#val-next_location" class="anchor"></a><code><span><span class="keyword">val</span> next_location : <span><span><a href="#type-location">location</a> option</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>next_location state</code> is <code>(state', next_location_opt)</code> where <code>next_location_opt</code> is the location of the next token in <code>state</code>. This does not advance the input stream. <code>next_location_opt = Option.None</code> at the end of the input stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-previous_location"><a href="#val-previous_location" class="anchor"></a><code><span><span class="keyword">val</span> previous_location : <span><span><a href="#type-location">location</a> option</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>previous_location state</code> is <code>(state', previous_location_opt)</code> where <code>previous_location_opt</code> is the location of the last token in <code>state</code> to have been consumed. <code>previous_location_opt = Option.None</code> at the beginning of the input stream.</p></div></div><h2 id="backtracking"><a href="#backtracking" class="anchor"></a>Backtracking</h2><div class="odoc-spec"><div class="spec value anchored" id="val-enable_backtracking"><a href="#val-enable_backtracking" class="anchor"></a><code><span><span class="keyword">val</span> enable_backtracking : <span>unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>enable_backtracking state</code> is <code>(state', ())</code> where <code>state'</code> has backtracking enabled.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-disable_backtracking"><a href="#val-disable_backtracking" class="anchor"></a><code><span><span class="keyword">val</span> disable_backtracking : <span>unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>enable_backtracking state</code> is <code>(state', ())</code> where <code>state'</code> has backtracking disabled.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-can_backtrack"><a href="#val-can_backtrack" class="anchor"></a><code><span><span class="keyword">val</span> can_backtrack : <span>bool <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>can_backtrack state</code> is <code>(state', flag)</code> where <code>flag = true</code> indicates that <code>state</code> and <code>state'</code> allow backtracking out of an erroneous result, and <code>flag = false</code> otherwise.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-allow_backtracking_on_error"><a href="#val-allow_backtracking_on_error" class="anchor"></a><code><span><span class="keyword">val</span> allow_backtracking_on_error : 
  <span><span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'e</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'e</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>allow_backtracking_on_error m</code> is <code>m'</code> such that <code>m' state</code> is <code>(state', x)</code> with backtracking enabled in <code>state'</code> if <code>x = Result.Error cause</code>. That is, this combinator enables backtracking if <code>m'</code> produces an error. Backtracking then needs to be manually disabled afterwards.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_checkpoint"><a href="#val-with_checkpoint" class="anchor"></a><code><span><span class="keyword">val</span> with_checkpoint : 
  <span><span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'e</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span>[&gt; <span>`Backtracked of <span class="type-var">'e</span></span> <span><span>| `Did_not_backtrack</span> of <span class="type-var">'e</span></span> ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>with_checkpoint m</code> is <code>m'</code> such that <code>m' state</code> marks the current state, performs <code>m</code>, then either</p><ul><li>discards the marked state if <code>m state = (state', Result.Ok x)</code>,</li><li>backtracks to the marked state if <code>m state = (state', Result.Error cause)</code>.</li></ul><p>The output error from <code>m</code> is additionally annotated with whether backtracking occurred.</p><p>In the case of a parser <code>m</code>, backtracking can occur if backtracking is enabled with <a href="#val-allow_backtracking_on_error"><code>allow_backtracking_on_error</code></a>, or if <code>m</code> did not consume any input.</p></div></div></div></body></html>
